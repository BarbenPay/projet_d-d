version: '2.0'
config:
  store_entities_as_slots: true
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
intents:
- affirm:
    use_entities: true
- deny:
    use_entities: true
- user_ask_help:
    use_entities: true
- user_choose_reset:
    use_entities: true
- start_game:
    use_entities: true
- accessibility_selection:
    use_entities: true
- user_choose_theme:
    use_entities: true
- user_choose_difficulty:
    use_entities: true
- user_choose_race:
    use_entities: true
- user_choose_subrace:
    use_entities: true
- user_choose_class:
    use_entities: true
- user_choose_weapon:
    use_entities: true
- user_choose_attribute:
    use_entities: true
- nlu_fallback:
    use_entities: true
entities:
- accessibility
- theme
- difficulty
- race
- subrace
- weapon
- class
- attribute
- number
slots:
  accessibility:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  theme:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  difficulty:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  race:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  subrace:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  class:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  weapon:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  attribute:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: true
    influence_conversation: true
  adventure_text:
    type: rasa.shared.core.slots.TextSlot
    initial_value: null
    auto_fill: false
    influence_conversation: false
  ability_class:
    type: rasa.shared.core.slots.TextSlot
    initial_value: Aucune
    auto_fill: true
    influence_conversation: false
  ability_subrace:
    type: rasa.shared.core.slots.TextSlot
    initial_value: Aucune
    auto_fill: true
    influence_conversation: false
responses:
  utter_greet:
  - text: Bonjour aventurier ! prêt a jouer ?
  utter_accessibility_selection:
  - text: 'Comment voulez-vous jouer : à l oral ou à l écrit ?'
  utter_confirm_settings_game:
  - text: |
      Voici votre configuration de partie:
      - Accessibilité : {accessibility}

      Est-ce que cela vous convient ?
  utter_start_story_settings:
  - text: Parfait ! Commencons par choisir les paramètres de votre histoire.
  utter_ask_theme:
  - text: Quel thème voulez vous pour votre aventure ?
  utter_ask_difficulty:
  - text: Choisissez une difficulté.
  utter_confirm_story:
  - text: |
      Voici la configuration de l'histoire:
      - Thème : {theme}
      - Difficulté : {difficulty}

      Est-ce que cela vous convient ?
  utter_start_creation_character:
  - text: Parfait ! Commencons par créer votre personnage.
  utter_ask_race:
  - text: Choisissez une race.
  utter_ask_class:
  - text: Choisissez une classe.
  utter_confirm_character:
  - text: |
      Voici votre personnage :
      - Race: {race}
      - Sous-race: {subrace}
      - Classe: {class}
      - Armes: {weapon}
      - Attributs {attribute}

      Est-ce que cela vous convient ?
  utter_ask_adventure_text:
  - text: Que faites-vous ?
  utter_ask_attribute:
  - text: Qu'est ce qui représente le mieux votre personnage ? 
  utter_ask_rephrase:
  - text: Je n'ai pas bien compris. Peux-tu reformuler ?
  utter_default:
  - text: Désolé, je ne comprends vraiment pas ce que tu veux dire.
actions:
- action_ask_subrace
- action_ask_weapon
- action_ask_class
- action_ask_race
- validate_caracter_creation_form
- validate_adventure_form

forms:
  game_settings_form:
    required_slots:
      difficulty:
      - entity: difficulty
        type: from_entity
      theme:
      - entity: theme
        type: from_entity
  caracter_creation_form:
    required_slots:
      attribute:
      - entity: attribute
        type: from_entity
      class:
      - entity: class
        type: from_entity
      race:
      - entity: race
        type: from_entity
      subrace:
      - entity: subrace
        type: from_entity
      weapon:
      - entity: weapon
        type: from_entity
  adventure_form:
    required_slots:
      adventure_text:
      - not_intent: user_choose_reset
        type: from_text
e2e_actions: []
